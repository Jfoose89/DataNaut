USE DatanautDB;
GO

CREATE TABLE Project (
PKProjectID INT IDENTITY(1,1) PRIMARY KEY,
ProjectName VARCHAR(200) NOT NULL,
ProjectStartDate DATE NOT NULL,
ProjectEndDate DATE NULL,
Budget DECIMAL(12,2) NULL,
Status VARCHAR(50) NULL
);

CREATE TABLE ProjectManager (
PKProjectManagerID INT IDENTITY(1,1) PRIMARY KEY,
FKRoleID INT NOT NULL,
CONSTRAINT FK_ProjectManager_Role FOREIGN KEY (FKRoleID)
	REFERENCES Role(PKRoleID)
);

CREATE TABLE TeamMember (
	PKTeamMemberID INT IDENTITY (1,1) PRIMARY KEY,
	Name VARCHAR (200) NOT NULL,
	Skill VARCHAR(200) NULL,
	FKProjectID INT NOT NULL,
	FKProjectManagerID INT NOT NULL,
	FKRoleID INT NOT NULL,
	CONSTRAINT FK_TeamMember_Project FOREIGN KEY (FKProjectID)
		REFERENCES Project(PKProjectID),
	CONSTRAINT FK_TeamMember_ProjectManager FOREIGN KEY (FKProjectManagerID)
		REFERENCES ProjectManager(PKProjectManagerID),
	CONSTRAINT FK_TeamMember_Role FOREIGN KEY (FKRoleID)
		REFERENCES Role(PKRoleID)
);

CREATE TABLE Role (
	PKRoleID INT IDENTITY(1,1) PRIMARY KEY,
	RoleName VARCHAR(100) NOT NULL
);

CREATE TABLE TimeLog (
	PKTimeLogID INT IDENTITY(1,1) PRIMARY KEY,
	FKTeamMemberID INT NOT NULL,
	FKReportID INT NOT NULL,
	Activity VARCHAR(255) NULL,
	TimeWorked DECIMAL(5,2) NOT NULL,
	DateLogged DATE NOT NULL,
	CONSTRAINT FK_TimeLog_TeamMember
